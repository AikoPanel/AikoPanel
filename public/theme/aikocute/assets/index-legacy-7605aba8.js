System.register(["./vendor-legacy-a194f484.js","./index-legacy-3a6f8cc6.js","./formik.esm-legacy-a3c75cf9.js","./Masonry-legacy-cada8f60.js"],(function(e,a){"use strict";var n,t,r,s,i,c,l,u,o,d,m,h,g,b,v,S,f,p,y,x,C,w,B,q,j,k,E;return{setters:[e=>{n=e.a9,t=e.k,r=e.r,s=e.j,i=e.B,c=e.o,l=e.ai,u=e.cA,o=e.T,d=e.bi,m=e.ap,h=e.bs,g=e.bc,b=e.cB,v=e.cp},e=>{S=e.J,f=e.K,p=e.M,y=e.N,x=e.E,C=e.j,w=e.O,B=e.b},e=>{q=e.c,j=e.a,k=e.F},e=>{E=e.M}],execute:function(){const a={avatar:"",submit:null},M=()=>{const{enqueueSnackbar:e}=n(),{t:h}=t(),g=S(),[b]=f(),v=r.useMemo((()=>q({avatar:j().url(h("utils.change-avatar-card.form.url",{context:"invalid"}).toString()).required(h("utils.change-avatar-card.form.avatar",{context:"required"}).toString())})),[h]),y=r.useCallback((async(a,{setSubmitting:n,setStatus:t,setErrors:r})=>{try{await b(a).unwrap(),t({success:!0}),e(h("notice::update-user_success"),{variant:"success"})}catch(s){const e=s;console.error("Error changing Avatar",e),t({success:!1,message:e.message}),r(e.errors||{submit:e.message})}finally{n(!1)}}),[b,g,e,h]);return s(p,{title:h("utils.change-avatar-card.title"),children:s(k,{initialValues:a,validationSchema:v,onSubmit:y,children:({handleChange:e,handleBlur:a,handleSubmit:n,errors:t,touched:r,isSubmitting:g,values:b})=>s(i,{component:"form",onSubmit:n,children:c(l,{spacing:2,children:[s(u,{type:"avatar",id:"avatar-label",name:"avatar",label:h("utils.change-avatar-card.form.avatar",{context:"label"}),value:b.avatar,onChange:e,onBlur:a,error:Boolean(r.avatar&&t.avatar),helperText:r.avatar&&t.avatar,disabled:g,fullWidth:!0}),c(l,{direction:"row",justifyContent:"space-between",children:[s(i,{children:s(o,{variant:"caption",color:"error",noWrap:!0,children:t.submit})}),s(l,{direction:"row",justifyContent:"flex-end",spacing:2,children:s(d,{type:"submit",variant:"contained",disabled:g,children:g?s(m,{size:16}):h("utils.change-avatar-card.form.submit-button")})})]})]})})})})},W=()=>{const{enqueueSnackbar:e}=n(),{t:a}=t(),[S]=y(),{data:f,isLoading:w}=x(),{data:B}=C(),[E,M]=r.useState(!1),W=r.useMemo((()=>q({sni:j().required(a("utils.change-sni-card.form.sni",{context:"required"}).toString()),customSni:j().when("sni",{is:e=>"other"===e,then:j().required(a("utils.change-sni-card.form.sni.custom",{context:"required"}).toString())})})),[a]),V=r.useCallback((async(n,{setSubmitting:t,setStatus:r,setErrors:s})=>{const i={...n,sni:"other"===n.sni?n.customSni:n.sni};try{await S(i).unwrap(),r({success:!0}),e(a("notice::update-user_success"),{variant:"success"})}catch(c){const e=c;console.error("Error changing Sni",e),r({success:!1,message:e.message}),s(e.errors||{submit:e.message})}finally{t(!1)}}),[S,e,a]);return w?s(m,{}):c(p,{title:a("utils.change-sni-card.title"),children:[B&&s(o,{variant:"body1",children:a("utils.change-sni-card.current-sni",{sni:B.sni})}),s(k,{initialValues:{sni:"",customSni:"",submit:null},validationSchema:W,onSubmit:V,children:({setFieldValue:e,handleChange:n,handleBlur:t,handleSubmit:r,errors:o,touched:S,isSubmitting:p,values:y})=>s(i,{component:"form",onSubmit:r,noValidate:!0,children:c(l,{spacing:2,children:[c(h,{fullWidth:!0,children:[s(g,{id:"sni-select-label",children:a("utils.change-sni-card.form.sni.label")}),c(b,{labelId:"sni-select-label",id:"sni-select",name:"sni",value:y.sni,onChange:a=>{const n="other"===a.target.value;M(n),e("sni",a.target.value)},onBlur:t,error:Boolean(S.sni&&o.sni),disabled:p,children:[f?.sni.map((e=>s(v,{value:e.value,children:e.lable},e.value))),s(v,{value:"other",children:a("utils.change-sni-card.form.sni.other")})]})]}),E&&s(u,{id:"customSni",name:"customSni",label:a("utils.change-sni-card.form.sni.custom"),value:y.customSni,onChange:n,onBlur:t,error:Boolean(S.customSni&&o.customSni),helperText:S.customSni&&o.customSni,disabled:p,fullWidth:!0}),s(l,{direction:"row",justifyContent:"flex-end",spacing:2,children:s(d,{type:"submit",variant:"contained",disabled:p,children:p?s(m,{size:24}):a("utils.change-sni-card.form.submit-button")})})]})})})]})},V={username:"",submit:null},z=()=>{const{enqueueSnackbar:e}=n(),{t:a}=t(),h=S(),[g]=w(),b=r.useMemo((()=>q({username:j().required(a("utils.change-username-card.form.username",{context:"required"}).toString())})),[a]),v=r.useCallback((async(n,{setSubmitting:t,setStatus:r,setErrors:s})=>{try{await g(n).unwrap(),r({success:!0}),e(a("notice::update-user_success"),{variant:"success"})}catch(i){const e=i;console.error("Error changing Username",e),r({success:!1,message:e.message}),s(e.errors||{submit:e.message})}finally{t(!1)}}),[g,h,e,a]);return s(p,{title:a("utils.change-username-card.title"),children:s(k,{initialValues:V,validationSchema:b,onSubmit:v,children:({handleChange:e,handleBlur:n,handleSubmit:t,errors:r,touched:h,isSubmitting:g,values:b})=>s(i,{component:"form",onSubmit:t,children:c(l,{spacing:2,children:[s(u,{type:"username",id:"username-label",name:"username",label:a("utils.change-username-card.form.username",{context:"label"}),value:b.username,onChange:e,onBlur:n,error:Boolean(h.username&&r.username),helperText:h.username&&r.username,disabled:g,fullWidth:!0}),c(l,{direction:"row",justifyContent:"space-between",children:[s(i,{children:s(o,{variant:"caption",color:"error",noWrap:!0,children:r.submit})}),s(l,{direction:"row",justifyContent:"flex-end",spacing:2,children:s(d,{type:"submit",variant:"contained",disabled:g,children:g?s(m,{size:16}):a("utils.change-username-card.form.submit-button")})})]})]})})})})},T=()=>c(E,{spacing:2,columns:{xs:1,md:2,xl:3},children:[s(W,{}),s(z,{}),s(M,{})]});e("default",(()=>(B("utils"),s(T,{}))))}}}));
